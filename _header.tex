\documentclass{amsart}
\usepackage{amsmath,amsthm,amsfonts,amssymb}
\usepackage{mathrsfs}
% \usepackage[sans]{dsfont}
\usepackage{stmaryrd}
\usepackage{mathtools}
\usepackage{subfiles}
% \usepackage{enumerate}
\usepackage{fullpage}
\usepackage{tikz}
% \usepackage{marginnote}
\usepackage{float}
\usepackage{cancel}
\usepackage{xcolor}
\usepackage{setspace}
\usepackage{calligra}
\usepackage{MnSymbol}
% \usepackage{setspace}
\RequirePackage{doi}
\usepackage{hyperref}
% \usepackage{showkeys}
% \usepackage{lastpage}
% \usepackage{fancyhdr}
\usepackage[all]{xy}
\usepackage[capitalize]{cleveref}
\usepackage{thmtools}
\usepackage[shortlabels]{enumitem}
\usepackage[many]{tcolorbox}



\usetikzlibrary{shapes.geometric}
\usetikzlibrary{calc}

%%% THEOREM ENVIRONMENTS %%%
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{fact}[thm]{Fact}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{clm}[thm]{Claim}

\newtheorem*{lem*}{Lemma}
\newtheorem*{cor*}{Corollary}
\newtheorem*{prop*}{Proposition}
\newtheorem*{fact*}{Fact}
\newtheorem*{conj*}{Conjecture}
\newtheorem*{clm*}{Claim}

\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{ex}[thm]{Example}
\newtheorem{xca}[thm]{Exercise}
\newtheorem{axiom}[thm]{Axiom}

\newtheorem*{defn*}{Definition}
\newtheorem*{ex*}{Example}
\newtheorem*{xca*}{Exercise}
\newtheorem*{axiom*}{Axiom}

\theoremstyle{remark}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{setup}[thm]{Setup}
\newtheorem{cond}[thm]{Condition}
\newtheorem{cst}[thm]{Construction}
\newtheorem{obs}[thm]{Observation}
\newtheorem{ques}[thm]{Question}
\newtheorem{dis}[thm]{Discussion}

\newtheorem*{rmk*}{Remark}
\newtheorem*{setup*}{Setup}
\newtheorem*{cond*}{Condition}
\newtheorem*{cons*}{Construction}
\newtheorem*{obs*}{Observation}
\newtheorem*{ques*}{Question}
\newtheorem*{dis*}{Discussion}

\numberwithin{equation}{section}


% for ref to list in theorems, etc...

\newlist{thmlist}{enumerate}{1}
\setlist[thmlist]{label=(\roman{thmlisti}),
                  ref=\thethm.(\roman{thmlisti}),
                  noitemsep}
                  
\Crefname{listthm}{Theorem}{Theorems}
\Crefname{listlem}{Lemma}{Lemmas}
\Crefname{listprop}{Proposition}{Propositions}
\Crefname{listcor}{Corollary}{Corollaries}
\Crefname{listfact}{Fact}{Facts}
\Crefname{listconj}{Conjecture}{Conjectures}
\Crefname{listclm}{Claim}{Claims}

\addtotheorempostheadhook[thm]{\crefalias{thmlisti}{listthm}}
\addtotheorempostheadhook[lem]{\crefalias{thmlisti}{listlem}}
\addtotheorempostheadhook[prop]{\crefalias{thmlisti}{listprop}}
\addtotheorempostheadhook[cor]{\crefalias{thmlisti}{listcor}}
\addtotheorempostheadhook[fact]{\crefalias{thmlisti}{listfact}}
\addtotheorempostheadhook[clm]{\crefalias{thmlisti}{listclm}}
\addtotheorempostheadhook[conj]{\crefalias{thmlisti}{listconj}}

%%% END THEOREM ENVIRONMENTS %%%


%%% MATH OPERATORS %%%
\DeclareMathOperator{\ad}{ad}
\DeclareMathOperator{\an}{an}
\DeclareMathOperator{\Ima}{Im}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Ass}{Ass}
\DeclareMathOperator{\chr}{char}
\DeclareMathOperator{\codim}{codim}
\DeclareMathOperator{\Coker}{Coker}
\DeclareMathOperator{\Colim}{Colim}
\DeclareMathOperator{\depth}{depth}
\DeclareMathOperator{\Der}{Der}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Fr}{Frac}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\gr}{gr}
\DeclareMathOperator{\hght}{ht}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Lie}{Lie}
\DeclareMathOperator{\Lim}{Lim}
\DeclareMathOperator{\op}{op}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\pr}{pr}
\DeclareMathOperator{\Proj}{Proj}
\DeclareMathOperator{\pd}{pd}
\DeclareMathOperator{\pt}{pt}
\DeclareMathOperator{\red}{red}
\DeclareMathOperator{\rk}{rank}
\DeclareMathOperator{\soc}{soc}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Supp}{Supp}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Tor}{Tor}


%%% MATH FONTS %%%
% mathbb - mbb
\newcommand{\mbb}[1]{\mathbb{#1}}
\newcommand{\CC}{\mbb{C}}
\newcommand{\QQ}{\mbb{Q}}
\newcommand{\NN}{\mbb{N}}
\newcommand{\RR}{\mbb{R}}
\newcommand{\ZZ}{\mbb{Z}}
\newcommand{\bA}{\mbb{A}}
\newcommand{\bB}{\mbb{B}}
\newcommand{\bD}{\mbb{D}}
\newcommand{\bE}{\mbb{E}}
\newcommand{\bF}{\mbb{F}}
\newcommand{\bG}{\mbb{G}}
\newcommand{\bH}{\mbb{H}}
\newcommand{\bI}{\mbb{I}}
\newcommand{\bJ}{\mbb{J}}
\newcommand{\bK}{\mbb{K}}
\newcommand{\bL}{\mbb{L}}
\newcommand{\bM}{\mbb{M}}
\newcommand{\bO}{\mbb{O}}
\newcommand{\bP}{\mbb{P}}
\newcommand{\bS}{\mbb{S}}
\newcommand{\bT}{\mbb{T}}
\newcommand{\bU}{\mbb{U}}
\newcommand{\bV}{\mbb{V}}
\newcommand{\bW}{\mbb{W}}
\newcommand{\bX}{\mbb{X}}
\newcommand{\bY}{\mbb{Y}}


% mathscr - msc
\newcommand{\msc}[1]{\mathscr{#1}}
\newcommand{\sA}{\msc{A}}
\newcommand{\sB}{\msc{B}}
\newcommand{\sC}{\msc{C}}
\newcommand{\sD}{\msc{D}}
\newcommand{\sE}{\msc{E}}
\newcommand{\sF}{\msc{F}}
\newcommand{\sG}{\msc{G}}
\newcommand{\sH}{\msc{H}}
\newcommand{\sI}{\msc{I}}
\newcommand{\sJ}{\msc{J}}
\newcommand{\sK}{\msc{K}}
\newcommand{\sL}{\msc{L}}
\newcommand{\sM}{\msc{M}}
\newcommand{\sN}{\msc{N}}
\newcommand{\sO}{\msc{O}}
\newcommand{\sP}{\msc{P}}
\newcommand{\sQ}{\msc{Q}}
\newcommand{\sR}{\msc{R}}
\newcommand{\sS}{\msc{S}}
\newcommand{\sT}{\msc{T}}
\newcommand{\sU}{\msc{U}}
\newcommand{\sV}{\msc{V}}
\newcommand{\sW}{\msc{W}}
\newcommand{\sX}{\msc{X}}
\newcommand{\sY}{\msc{Y}}
\newcommand{\sZ}{\msc{Z}}

% mathfrak - mf
\newcommand{\mf}[1]{\mathfrak{#1}}
\newcommand{\mm}{\mf{m}}
\newcommand{\mfa}{\mf{a}}
\newcommand{\mfb}{\mf{b}}
\newcommand{\mfc}{\mf{c}}
\newcommand{\mfd}{\mf{d}}
\newcommand{\mfe}{\mf{e}}
\newcommand{\mff}{\mf{f}}
\newcommand{\mfg}{\mf{g}}
\newcommand{\mfh}{\mf{h}}
\newcommand{\mfi}{\mf{i}}
\newcommand{\mfj}{\mf{j}}
\newcommand{\mfk}{\mf{k}}
\newcommand{\mfl}{\mf{l}}
\newcommand{\mfn}{\mf{n}}
\newcommand{\mfo}{\mf{o}}
\newcommand{\mfp}{\mf{p}}
\newcommand{\mfq}{\mf{q}}
\newcommand{\mfr}{\mf{r}}
\newcommand{\mfs}{\mf{s}}
\newcommand{\mft}{\mf{t}}
\newcommand{\mfu}{\mf{u}}
\newcommand{\mfv}{\mf{v}}
\newcommand{\mfw}{\mf{w}}
\newcommand{\mfx}{\mf{x}}
\newcommand{\mfy}{\mf{y}}
\newcommand{\mfz}{\mf{z}}

% mathrm - mrm
\newcommand{\mrm}[1]{\mathrm{#1}}
\newcommand{\dd}{\mrm{d}}
\newcommand{\ee}{\mrm{e}}
\newcommand{\ii}{\mrm{i}}
\newcommand{\mA}{\mrm{A}}
\newcommand{\mB}{\mrm{B}}
\newcommand{\mC}{\mrm{C}}
\newcommand{\mD}{\mrm{D}}
\newcommand{\mE}{\mrm{E}}
\newcommand{\mF}{\mrm{F}}
\newcommand{\mG}{\mrm{G}}
\newcommand{\mH}{\mrm{H}}
\newcommand{\mI}{\mrm{I}}
\newcommand{\mJ}{\mrm{J}}
\newcommand{\mK}{\mrm{K}}
\newcommand{\mL}{\mrm{L}}
\newcommand{\mM}{\mrm{M}}
\newcommand{\mN}{\mrm{N}}
\newcommand{\mO}{\mrm{O}}
\newcommand{\mP}{\mrm{P}}
\newcommand{\mQ}{\mrm{Q}}
\newcommand{\mR}{\mrm{R}}
\newcommand{\mS}{\mrm{S}}
\newcommand{\mT}{\mrm{T}}
\newcommand{\mU}{\mrm{U}}
\newcommand{\mV}{\mrm{V}}
\newcommand{\mW}{\mrm{W}}
\newcommand{\mX}{\mrm{X}}
\newcommand{\mY}{\mrm{Y}}
\newcommand{\mZ}{\mrm{Z}}

% mathcal - mcal
\newcommand{\mcal}[1]{\mathcal{#1}}
\newcommand{\OO}{\mcal{O}}
\newcommand{\cA}{\mcal{A}}
\newcommand{\cB}{\mcal{B}}
\newcommand{\cC}{\mcal{C}}
\newcommand{\cD}{\mcal{D}}
\newcommand{\cE}{\mcal{E}}
\newcommand{\cF}{\mcal{F}}
\newcommand{\cG}{\mcal{G}}
\newcommand{\cH}{\mcal{H}}
\newcommand{\cI}{\mcal{I}}
\newcommand{\cJ}{\mcal{J}}
\newcommand{\cK}{\mcal{K}}
\newcommand{\cL}{\mcal{L}}
\newcommand{\cM}{\mcal{M}}
\newcommand{\cN}{\mcal{N}}
\newcommand{\cP}{\mcal{P}}
\newcommand{\cQ}{\mcal{Q}}
\newcommand{\cR}{\mcal{R}}
\newcommand{\cS}{\mcal{S}}
\newcommand{\cT}{\mcal{T}}
\newcommand{\cU}{\mcal{U}}
\newcommand{\cV}{\mcal{V}}
\newcommand{\cW}{\mcal{W}}
\newcommand{\cX}{\mcal{X}}
\newcommand{\cY}{\mcal{Y}}
\newcommand{\cZ}{\mcal{Z}}

%%% CATEGORICAL TERMS %%%
%% CAT NAMES
\newcommand{\catname}[1]{\mathbf{#1}}

\DeclareMathOperator{\Ab}{\catname{Ab}}
\DeclareMathOperator{\Coh}{\catname{Coh}}
\DeclareMathOperator{\Loc}{\catname{Loc}}
\DeclareMathOperator{\Mod}{\catname{Mod}}
\DeclareMathOperator{\QCoh}{\catname{QCoh}}
\DeclareMathOperator{\Rep}{\catname{Rep}}
\DeclareMathOperator{\Sh}{\catname{Sh}}
\DeclareMathOperator{\Vect}{\catname{Vect}}
\DeclareMathOperator{\Left}{L}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\Obj}{Obj}
\DeclareMathOperator{\Right}{R}


%% SHEAF NAMES
\newcommand{\sheafname}[2]{\mathscr{#1}\text{\kern -3pt {\calligra\large  #2}}\,}
\newcommand{\SHom}{\sheafname{H}{om}}
\newcommand{\SKer}{\sheafname{K}{er}}
\newcommand{\SDer}{\mathscr{D}\text{\kern -2pt {\calligra\large er}}\,}
\newcommand{\SEnd}{\sheafname{E}{nd}}
\newcommand{\SSym}{\sheafname{S}{ym}}

%% DERIVED NAMES
\newcommand{\rdf}{\mathsf{R}}
\newcommand{\ldf}{\mathsf{L}}
\newcommand{\ch}{\mathsf{Ch}}
\newcommand{\injc}{\mathsf{Inj}}
\newcommand{\projc}{\mathsf{Proj}}
\newcommand{\dc}{\mathsf{D}}
\newcommand{\hc}{\mathsf{K}}



%%% OTHER COMMANDS %%%
\newcommand{\dps}{\displaystyle}
\newcommand{\seq}[3][1]{#2_{#1},\dots,#2_{#3}}
\newcommand{\fpd}[2][x]{\frac{\partial #2}{\partial #1}}


%%% PAIRED OPERATORS %%%
% Need package mathtools
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\ang{\langle}{\rangle}
\DeclarePairedDelimiter\dba{\llangle}{\rrangle}
\DeclarePairedDelimiter\ps{\llbracket}{\rrbracket}
\DeclarePairedDelimiter\set{\{}{\}}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}


% \noindent
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5\baselineskip}


% Blank box placeholder for figures (to avoid requiring any
% particular graphics capabilities for printing this document).
\newcommand{\blankbox}[2]{%
  \parbox{\columnwidth}{\centering
    % Set fboxsep to 0 so that the actual size of the box will match the
    % given measurements more closely.
    \setlength{\fboxsep}{0pt}%
    \fbox{\raisebox{0pt}[#2]{\hspace{#1}}}%
  }%
}


%% Deal with eqref and hypperef
\makeatletter
\renewcommand*{\eqref}[1]{%
  \hyperref[{#1}]{\textup{\tagform@{\ref*{#1}}}}%
}
\makeatother

% comment color
\definecolor{zhan}{rgb}{0.0, 0.44, 1.0}

% hyperref setup
\hypersetup{
  colorlinks = true,
  linkcolor = red,
  anchorcolor = blue,
  citecolor = blue,
  filecolor = cyan,
  menucolor = red,
  runcolor = cyan,
  urlcolor = magenta,
}

\newtcolorbox{mybox}[3][beamer]{
    colback=white,
    coltitle=black,
    colframe=#3,
    coltext=zhan,
    title={\textbf{#2}},
    valign=top,
    halign=left,
    before skip=0.5cm,
    after skip=0.5cm,
    attach title to upper,
    after title={:\ },
    #1
}
                     
\newenvironment{todobox}
    {
    \begin{mybox}[]{To Do}{red}
    }
    {
    \end{mybox}
    }
    
\newenvironment{thoughts}
    {
    \begin{mybox}[]{Thoughts}{yellow}
    }
    {
    \end{mybox}
    }